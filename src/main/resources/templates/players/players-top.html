<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/base}">
<head>
    <title th:text="${pageTitle}">VĐV Hàng đầu - BTMS</title>
    <link rel="stylesheet" th:href="@{/css/players/players.css}">
</head>
<body>
<div layout:fragment="content">
    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/">Trang chủ</a></li>
                    <li class="breadcrumb-item"><a href="/players">Vận động viên</a></li>
                    <li class="breadcrumb-item active">VĐV Hàng đầu</li>
                </ol>
            </nav>
            <h1 class="page-title">
                <i class="bi bi-star-fill"></i> VĐV Hàng đầu
            </h1>
        </div>
    </section>

    <!-- Top Men -->
    <section class="top-players-section section-padding">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="bi bi-person"></i> Top Nam
                </h2>
            </div>
            
            <div class="top-players-grid">
                <th:block th:each="player, stat : ${topMen}">
                    <div class="top-player-card" th:classappend="${stat.first} ? 'featured'" 
                         data-aos="fade-up" th:data-aos-delay="${stat.index * 50}">
                        <div class="rank-badge" th:classappend="${player.rank <= 3} ? 'top-' + ${player.rank}">
                            <span th:text="${player.rank}">1</span>
                        </div>
                        <div class="player-avatar">
                            <img th:src="${player.avatar}" th:alt="${player.name}"
                                 onerror="this.src='/images/players/default-avatar.png'">
                        </div>
                        <h4 class="player-name" th:text="${player.name}">Nguyễn Tiến Minh</h4>
                        <div class="player-stats">
                            <div class="stat">
                                <span class="value" th:text="${#numbers.formatInteger(player.points, 0, 'COMMA')}">50,000</span>
                                <span class="label">Điểm</span>
                            </div>
                            <div class="stat">
                                <span class="value" th:text="${player.titles}">10</span>
                                <span class="label">Danh hiệu</span>
                            </div>
                        </div>
                        <a th:href="@{/players/{id}(id=${player.id})}" class="btn btn-outline-primary btn-sm">
                            Xem chi tiết
                        </a>
                    </div>
                </th:block>
            </div>
        </div>
    </section>

    <!-- Top Women -->
    <section class="top-players-section section-padding bg-light">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="bi bi-person"></i> Top Nữ
                </h2>
            </div>
            
            <div class="top-players-grid">
                <th:block th:each="player, stat : ${topWomen}">
                    <div class="top-player-card" th:classappend="${stat.first} ? 'featured'" 
                         data-aos="fade-up" th:data-aos-delay="${stat.index * 50}">
                        <div class="rank-badge" th:classappend="${player.rank <= 3} ? 'top-' + ${player.rank}">
                            <span th:text="${player.rank}">1</span>
                        </div>
                        <div class="player-avatar">
                            <img th:src="${player.avatar}" th:alt="${player.name}"
                                 onerror="this.src='/images/players/default-avatar.png'">
                        </div>
                        <h4 class="player-name" th:text="${player.name}">Nguyễn Thùy Linh</h4>
                        <div class="player-stats">
                            <div class="stat">
                                <span class="value" th:text="${#numbers.formatInteger(player.points, 0, 'COMMA')}">48,000</span>
                                <span class="label">Điểm</span>
                            </div>
                            <div class="stat">
                                <span class="value" th:text="${player.titles}">8</span>
                                <span class="label">Danh hiệu</span>
                            </div>
                        </div>
                        <a th:href="@{/players/{id}(id=${player.id})}" class="btn btn-outline-primary btn-sm">
                            Xem chi tiết
                        </a>
                    </div>
                </th:block>
            </div>
        </div>
    </section>

    <!-- Rising Stars -->
    <section class="rising-stars-section section-padding">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="bi bi-rocket-takeoff"></i> Ngôi sao đang lên
                </h2>
            </div>
            
            <div class="rising-stars-grid">
                <th:block th:each="player, stat : ${risingStars}">
                    <div class="rising-star-card" data-aos="zoom-in" th:data-aos-delay="${stat.index * 100}">
                        <div class="improvement-badge" th:text="${player.improvement}">+15 bậc</div>
                        <img th:src="${player.avatar}" th:alt="${player.name}" class="player-img"
                             onerror="this.src='/images/players/default-avatar.png'">
                        <h4 th:text="${player.name}">Trần Văn An</h4>
                        <p class="player-info">
                            <span th:text="${player.age} + ' tuổi'">16 tuổi</span> - 
                            <span th:text="${player.club}">CLB Trẻ</span>
                        </p>
                    </div>
                </th:block>
            </div>
        </div>
    </section>

    <!-- Most Titles -->
    <section class="most-titles-section section-padding bg-light">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="bi bi-trophy-fill"></i> Nhiều danh hiệu nhất
                </h2>
            </div>
            
            <div class="titles-list">
                <th:block th:each="player, stat : ${mostTitles}">
                    <div class="titles-item" data-aos="fade-right" th:data-aos-delay="${stat.index * 100}">
                        <span class="position" th:text="${stat.index + 1}">1</span>
                        <img th:src="${player.avatar}" th:alt="${player.name}"
                             onerror="this.src='/images/players/default-avatar.png'">
                        <div class="player-info">
                            <h4 th:text="${player.name}">Nguyễn Tiến Minh</h4>
                            <span th:text="${player.club}">CLB TP.HCM</span>
                        </div>
                        <div class="titles-count">
                            <span class="count" th:text="${player.totalTitles}">24</span>
                            <span class="label">danh hiệu</span>
                        </div>
                    </div>
                </th:block>
            </div>
        </div>
    </section>
</div>

<th:block layout:fragment="scripts">
    <script src="/js/players/players.js"></script>
</th:block>
</body>
</html>
